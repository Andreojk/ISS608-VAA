---
title: "Hands-on_Ex03"
author: "Andre Ong Jia Kang"
---

# 3 Programming Interactive Data Visualisation with R

## Install and launching R packages

The code chunk below uses p_load() of pacman package to check if tidyverse packages are installed in the computer. If they are, then they will be launched into R.

```{r}
pacman::p_load(ggrepel, patchwork, 
               ggthemes, hrbrthemes,
               tidyverse, ggiraph, plotly, 
               patchwork, DT) 
```

## Importing the data

```{r}
exam_data <- read_csv("data/Exam_data.csv")

```

## 3.4 Interactive Data Visualisation - ggiraph methods

### 3.4.1 Tooltip effect with tooltip aesthetic

```{r}
p <- ggplot(data=exam_data, aes(x = MATHS)) +
  geom_dotplot_interactive(aes(tooltip = ID),
    stackgroups = TRUE,  binwidth = 1, method = "histodot") +
  scale_y_continuous(NULL, breaks = NULL)
girafe(
  ggobj = p, width_svg = 6,height_svg = 6*0.618
)
```

## 3.5 Interactivity
### 3.5.1 Displaying multiple information on tooltip

```{r}
exam_data$tooltip <- c(paste0( "Name = ", exam_data$ID,"\n Class = ", exam_data$CLASS)) 

p <- ggplot(data=exam_data, aes(x = MATHS)) +
  geom_dotplot_interactive(aes(tooltip = exam_data$tooltip), 
    stackgroups = TRUE, binwidth = 1, method = "histodot") +
  scale_y_continuous(NULL, breaks = NULL)
girafe(
  ggobj = p,width_svg = 8,height_svg = 8*0.618
)
```

## 3.6 Interactivity
### 3.6.3 Hover effect with data_id aesthetic

```{r}
p <- ggplot(data=exam_data, 
       aes(x = MATHS)) +
  geom_dotplot_interactive(  aes(data_id = CLASS),  stackgroups = TRUE, binwidth = 1, method = "histodot") +               
  scale_y_continuous(NULL, breaks = NULL)
girafe(                                  
  ggobj = p, width_svg = 6, height_svg = 6*0.618                      
)                                        
```

## 3.6.5 Combining tooltip and hover effect

```{r}
p <- ggplot(data=exam_data, 
       aes(x = MATHS)) +
  geom_dotplot_interactive(  aes(data_id = CLASS),  stackgroups = TRUE, binwidth = 1, method = "histodot") +               
  scale_y_continuous(NULL, breaks = NULL)
girafe(                                  
  ggobj = p,                             
  width_svg = 6,                         
  height_svg = 6*0.618,
  options = list(                        
    opts_hover(css = "fill: #202020;"),  
    opts_hover_inv(css = "opacity:0.2;") 
  )                                        
)                                        
```
